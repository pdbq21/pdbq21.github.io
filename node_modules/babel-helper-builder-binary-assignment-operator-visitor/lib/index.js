<<<<<<< .merge_file_pyaEUL
/*istanbul ignore next*/"use strict";
=======
"use strict";
>>>>>>> .merge_file_Q2ZkdP

exports.__esModule = true;

exports.default = function (opts) {
  var visitor = {};

  function isAssignment(node) {
<<<<<<< .merge_file_pyaEUL
    return node.operator === opts.operator + "=";
=======
    return node && node.operator === opts.operator + "=";
>>>>>>> .merge_file_Q2ZkdP
  }

  function buildAssignment(left, right) {
    return t.assignmentExpression("=", left, right);
  }

  visitor.ExpressionStatement = function (path, file) {
<<<<<<< .merge_file_pyaEUL
    // hit the `AssignmentExpression` one below
=======
>>>>>>> .merge_file_Q2ZkdP
    if (path.isCompletionRecord()) return;

    var expr = path.node.expression;
    if (!isAssignment(expr)) return;

    var nodes = [];
<<<<<<< .merge_file_pyaEUL
    var exploded = /*istanbul ignore next*/(0, _babelHelperExplodeAssignableExpression2.default)(expr.left, nodes, file, path.scope, true);
=======
    var exploded = (0, _babelHelperExplodeAssignableExpression2.default)(expr.left, nodes, file, path.scope, true);
>>>>>>> .merge_file_Q2ZkdP

    nodes.push(t.expressionStatement(buildAssignment(exploded.ref, opts.build(exploded.uid, expr.right))));

    path.replaceWithMultiple(nodes);
  };

  visitor.AssignmentExpression = function (path, file) {
<<<<<<< .merge_file_pyaEUL
    /*istanbul ignore next*/var node = path.node;
    /*istanbul ignore next*/var scope = path.scope;
=======
    var node = path.node;
    var scope = path.scope;
>>>>>>> .merge_file_Q2ZkdP

    if (!isAssignment(node)) return;

    var nodes = [];
<<<<<<< .merge_file_pyaEUL
    var exploded = /*istanbul ignore next*/(0, _babelHelperExplodeAssignableExpression2.default)(node.left, nodes, file, scope);
=======
    var exploded = (0, _babelHelperExplodeAssignableExpression2.default)(node.left, nodes, file, scope);
>>>>>>> .merge_file_Q2ZkdP
    nodes.push(buildAssignment(exploded.ref, opts.build(exploded.uid, node.right)));
    path.replaceWithMultiple(nodes);
  };

  visitor.BinaryExpression = function (path) {
<<<<<<< .merge_file_pyaEUL
    /*istanbul ignore next*/var node = path.node;
=======
    var node = path.node;
>>>>>>> .merge_file_Q2ZkdP

    if (node.operator === opts.operator) {
      path.replaceWith(opts.build(node.left, node.right));
    }
  };

  return visitor;
};

<<<<<<< .merge_file_pyaEUL
var /*istanbul ignore next*/_babelHelperExplodeAssignableExpression = require("babel-helper-explode-assignable-expression");

/*istanbul ignore next*/
var _babelHelperExplodeAssignableExpression2 = _interopRequireDefault(_babelHelperExplodeAssignableExpression);

var /*istanbul ignore next*/_babelTypes = require("babel-types");

/*istanbul ignore next*/
var t = _interopRequireWildcard(_babelTypes);

/*istanbul ignore next*/
=======
var _babelHelperExplodeAssignableExpression = require("babel-helper-explode-assignable-expression");

var _babelHelperExplodeAssignableExpression2 = _interopRequireDefault(_babelHelperExplodeAssignableExpression);

var _babelTypes = require("babel-types");

var t = _interopRequireWildcard(_babelTypes);

>>>>>>> .merge_file_Q2ZkdP
function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = exports["default"];